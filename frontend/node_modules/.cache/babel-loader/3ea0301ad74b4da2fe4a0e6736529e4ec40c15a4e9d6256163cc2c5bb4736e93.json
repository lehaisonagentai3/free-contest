{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{getOfficerById}from'../api/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=_ref=>{let{setOfficerId}=_ref;const[inputOfficerId,setInputOfficerId]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();if(!inputOfficerId.trim()){setError('Vui lòng nhập mã cán bộ');return;}setLoading(true);setError('');try{// Validate officer exists\nawait getOfficerById(inputOfficerId);// Set officer ID and navigate\nsetOfficerId(inputOfficerId);navigate('/select-subject');}catch(err){var _err$response;if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===404){setError('Không tìm thấy cán bộ. Vui lòng kiểm tra lại mã cán bộ.');}else{setError('Đăng nhập thất bại. Vui lòng thử lại.');}}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{maxWidth:'400px',margin:'100px auto'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center',marginBottom:'24px'},children:\"\\u0110\\u0103ng nh\\u1EADp\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"officerId\",children:\"M\\xE3 c\\xE1n b\\u1ED9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"officerId\",value:inputOfficerId,onChange:e=>setInputOfficerId(e.target.value),placeholder:\"Nh\\u1EADp m\\xE3 c\\xE1n b\\u1ED9 c\\u1EE7a b\\u1EA1n\",disabled:loading,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",style:{width:'100%'},disabled:loading,children:loading?'Đang đăng nhập...':'Đăng nhập'})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'20px',color:'#666'},children:/*#__PURE__*/_jsx(\"p\",{children:\"Nh\\u1EADp m\\xE3 c\\xE1n b\\u1ED9 \\u0111\\u1EC3 truy c\\u1EADp h\\u1EC7 th\\u1ED1ng thi \\u0111\\u1EA5u\"})})]})});};export default LoginPage;","map":{"version":3,"names":["React","useState","useNavigate","getOfficerById","jsx","_jsx","jsxs","_jsxs","LoginPage","_ref","setOfficerId","inputOfficerId","setInputOfficerId","loading","setLoading","error","setError","navigate","handleSubmit","e","preventDefault","trim","err","_err$response","response","status","className","children","style","maxWidth","margin","textAlign","marginBottom","onSubmit","htmlFor","type","id","value","onChange","target","placeholder","disabled","required","width","marginTop","color"],"sources":["/Users/maianhnguyen/go/src/github.com/lehaisonagentai3/free-contest/frontend/src/pages/LoginPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getOfficerById } from '../api/api';\nimport { LoginPageProps } from '../types/api';\n\nconst LoginPage: React.FC<LoginPageProps> = ({ setOfficerId }) => {\n  const [inputOfficerId, setInputOfficerId] = useState<string>('');\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string>('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (!inputOfficerId.trim()) {\n      setError('Vui lòng nhập mã cán bộ');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      // Validate officer exists\n      await getOfficerById(inputOfficerId);\n      \n      // Set officer ID and navigate\n      setOfficerId(inputOfficerId);\n      navigate('/select-subject');\n    } catch (err: any) {\n      if (err.response?.status === 404) {\n        setError('Không tìm thấy cán bộ. Vui lòng kiểm tra lại mã cán bộ.');\n      } else {\n        setError('Đăng nhập thất bại. Vui lòng thử lại.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"card\" style={{ maxWidth: '400px', margin: '100px auto' }}>\n        <h2 style={{ textAlign: 'center', marginBottom: '24px' }}>Đăng nhập</h2>\n        \n        {error && <div className=\"error-message\">{error}</div>}\n        \n        <form onSubmit={handleSubmit}>\n          <div className=\"input-group\">\n            <label htmlFor=\"officerId\">Mã cán bộ</label>\n            <input\n              type=\"number\"\n              id=\"officerId\"\n              value={inputOfficerId}\n              onChange={(e) => setInputOfficerId(e.target.value)}\n              placeholder=\"Nhập mã cán bộ của bạn\"\n              disabled={loading}\n              required\n            />\n          </div>\n          \n          <button \n            type=\"submit\" \n            className=\"btn\"\n            style={{ width: '100%' }}\n            disabled={loading}\n          >\n            {loading ? 'Đang đăng nhập...' : 'Đăng nhập'}\n          </button>\n        </form>\n        \n        <div style={{ textAlign: 'center', marginTop: '20px', color: '#666' }}>\n          <p>Nhập mã cán bộ để truy cập hệ thống thi đấu</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}